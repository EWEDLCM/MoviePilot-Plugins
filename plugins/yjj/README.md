# 邮件集插件 (yjj)

## 功能介绍

邮件集插件是一个运行于MoviePilot平台的邮件监控插件，支持实时监控多个邮箱，智能识别验证码邮件，并根据关键词过滤重要邮件进行推送。

## 主要功能

- **实时邮件监控**：使用IMAP协议持续监控邮箱，无需定时任务
- **验证码AI识别**：智能识别验证码邮件，提取关键信息
- **关键词过滤**：根据用户设置的关键词过滤重要邮件
- **多邮箱支持**：同时监控多个邮箱账户
- **代理支持**：支持使用PROXY_HOST环境变量
- **多渠道通知**：支持MoviePilot的所有通知渠道

## 配置说明

### 基础配置

1. **启用插件**：开启或关闭邮件监控功能
2. **使用代理**：是否使用PROXY_HOST环境变量作为代理
3. **通知渠道**：选择邮件通知的推送渠道

### 邮箱配置

在"邮箱配置"文本框中，每行配置一个邮箱，格式为：
```
邮箱地址|授权码
```

示例：
```
example@qq.com|abcdefghijklmnop
test@163.com|qrstuvwxyz123456
```

**注意**：
- 需要使用邮箱的授权码，不是登录密码
- 支持的邮箱服务商：QQ、163、126、Gmail、Outlook等

### AI配置

1. **验证码AI识别**：开启后会使用AI识别验证码邮件
2. **AI接口URL**：AI服务的接口地址
3. **AI API Key**：AI服务的API密钥
4. **AI模型名称**：使用的AI模型（如gpt-3.5-turbo）

### 关键词配置

在"关键词"输入框中设置邮件过滤关键词，多个关键词用`|`分隔：
```
验证码|重要通知|账单|订单
```

## 工作原理

1. **优先级处理**：验证码检测优先级高于关键词检测
2. **验证码处理**：
   - 先检查邮件内容是否包含验证码相关关键词
   - 如果包含且开启AI识别，则调用AI提取验证码信息
   - AI识别失败或认为不包含验证码时，直接推送原邮件
3. **关键词处理**：检查邮件标题和内容是否包含设置的关键词
4. **消息推送**：符合条件的邮件通过选定的通知渠道推送给用户

## 支持的邮箱服务商

- QQ邮箱 (imap.qq.com)
- 163邮箱 (imap.163.com)
- 126邮箱 (imap.126.com)
- Gmail (imap.gmail.com)
- Outlook/Hotmail (outlook.office365.com)
- Yahoo邮箱 (imap.mail.yahoo.com)
- 新浪邮箱 (imap.sina.com)
- 搜狐邮箱 (imap.sohu.com)

## 注意事项

1. **授权码获取**：需要在邮箱设置中开启IMAP服务并获取授权码
2. **网络环境**：确保MoviePilot能够访问邮箱服务器
3. **代理设置**：如需使用代理，请正确配置PROXY_HOST环境变量
4. **AI服务**：验证码AI识别需要有效的AI服务接口

## 版本历史

### v1.0.0
- 初始版本
- 支持多邮箱实时监控
- 验证码AI识别功能
- 关键词过滤功能
- 代理支持
- 多渠道通知

## 作者

EWEDL - [GitHub](https://github.com/EWEDLCM)
