# 站点签到（多站点版）插件

MoviePilot第三方插件，用于自动完成多个站点的每日签到任务，支持用户自定义多个站点配置。

## 功能特点

- 支持多个站点同时签到
- 支持用户通过文本框自定义站点配置
- 支持GET和POST两种签到请求方式
- 自定义成功关键词检测
- 可配置签到时间和频率
- 签到结果通知（成功/失败原因）
- 支持自定义通知渠道选择
- 签到历史记录查看

## 安装方法

1. 在MoviePilot插件商店中添加第三方仓库：`https://github.com/EWEDLCM/MoviePilot-Plugins`
2. 在第三方插件列表中找到并安装"站点签到（多站点版）"
3. 进入插件设置页面完成配置

## 配置说明

- **站点配置**: 每行输入一个站点信息，格式为`站点名称|签到地址|请求类型(GET/POST)|referer地址|站点cookie`
- **成功关键词**: 签到成功的判断关键词，多个关键词用`|`分隔，例如：`获得魔力值|签到成功|已签到|签到过了`
- **签到周期**: Cron表达式，默认"0 8 * * *"（每天8点）
- **启用插件**: 开启后将按设定的周期自动签到
- **开启通知**: 签到完成后发送通知消息
- **通知渠道**: 选择签到结果的通知发送渠道
- **立即运行一次**: 保存配置后立即执行一次签到
- **历史保留天数**: 签到历史记录的保留时间

## 通知渠道说明

插件支持多种通知渠道，您可以根据自己的偏好选择通知方式：

- **站点消息(SiteMessage)**: 仅在MoviePilot站内显示通知
- **微信(WeChat)**: 通过微信推送通知
- **Telegram**: 通过Telegram推送通知
- **钉钉(DingDing)**: 通过钉钉推送通知
- **Bark**: 通过Bark推送通知
- **Slack**: 通过Slack推送通知
- **PushPlus**: 通过PushPlus推送通知
- **PushDeer**: 通过PushDeer推送通知
- **ServerChan**: 通过Server酱推送通知
- **爱语飞飞(Iyuu)**: 通过爱语飞飞推送通知
- **PushOver**: 通过PushOver推送通知
- **企业微信(WeWork)**: 通过企业微信推送通知
- **飞书(Feishu)**: 通过飞书推送通知
- **全部渠道(All)**: 同时通过所有已配置的渠道推送通知

## 成功关键词说明

插件通过检测网站返回内容中是否包含关键词来判断签到是否成功。默认的关键词包括：
- 获得魔力值
- 签到成功
- 已签到
- 签到过了

如果您的站点使用其他文本表示签到成功，可以在配置中添加相应的关键词，多个关键词使用`|`分隔。

## 提示与说明

- 站点cookie无需设置环境变量，直接填写在配置中
- 确保填写的cookie有效，过期后需要重新获取
- 所有站点的签到结果将会在日志和通知中显示
- 插件会记录每次签到结果，可在插件详情页查看历史记录
- 如果签到总是失败，可以尝试添加适合您站点的成功关键词
- 要使用特定的通知渠道，需要先在MoviePilot的通知设置中配置相应的渠道 
